<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voxel Ecosystem</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-bar">
                <h1 class="title">VOXEL ECOSYSTEM</h1>
                <div class="header-stats">
                    <span class="header-stat">CYCLE: <strong id="generation">0</strong></span>
                    <span class="header-stat">POP: <strong id="population">0</strong></span>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="canvas-container" id="canvasContainer">
                <canvas id="world"></canvas>
            </div>
        </main>

        <aside class="dashboard">
            <!-- Simulation Controls -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">‚ö° SIMULATION</span>
                    <span class="panel-toggle">‚ñº</span>
                </div>
                <div class="panel-content">
                    <div class="button-row">
                        <button class="btn btn-primary" id="playPause">
                            <span id="playPauseText">‚ñ∂ START</span>
                        </button>
                        <button class="btn" id="step">‚è≠ STEP</button>
                        <button class="btn btn-danger" id="reset">‚Üª RESET</button>
                    </div>
                    <div class="slider-row">
                        <label>SPEED</label>
                        <input type="range" id="speed" min="1" max="20" value="10">
                        <span class="value" id="speedValue">10</span>
                    </div>
                    <div class="slider-row">
                        <label>GRID</label>
                        <input type="range" id="gridSize" min="30" max="80" value="50">
                        <span class="value" id="gridSizeValue">50</span>
                    </div>
                </div>
            </div>

            <!-- Atmosphere -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üåç ATMOSPHERE</span>
                    <span class="panel-toggle">‚ñº</span>
                </div>
                <div class="panel-content">
                    <div class="atmosphere-display">
                        <div class="atmo-row">
                            <span class="atmo-label">O‚ÇÇ</span>
                            <div class="atmo-bar"><div class="atmo-fill o2" id="o2Bar"></div></div>
                            <span class="atmo-value" id="o2Value">50%</span>
                        </div>
                        <div class="atmo-row">
                            <span class="atmo-label">CO‚ÇÇ</span>
                            <div class="atmo-bar"><div class="atmo-fill co2" id="co2Bar"></div></div>
                            <span class="atmo-value" id="co2Value">50%</span>
                        </div>
                    </div>
                    <div class="slider-row">
                        <label>SUN</label>
                        <input type="range" id="sunlight" min="1" max="10" value="5">
                        <span class="value" id="sunlightValue">5</span>
                    </div>
                    <div class="slider-row">
                        <label>INIT O‚ÇÇ</label>
                        <input type="range" id="initialO2" min="20" max="80" value="50">
                        <span class="value" id="initialO2Value">50%</span>
                    </div>
                </div>
            </div>

            <!-- Population -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üìä POPULATION</span>
                    <span class="panel-toggle">‚ñº</span>
                </div>
                <div class="panel-content">
                    <div class="species-grid">
                        <div class="species-item flora">
                            <div class="species-icon"></div>
                            <span class="species-name">Flora</span>
                            <span class="species-count" id="plantCount">0</span>
                        </div>
                        <div class="species-item herbivore">
                            <div class="species-icon"></div>
                            <span class="species-name">Herb</span>
                            <span class="species-count" id="herbivoreCount">0</span>
                        </div>
                        <div class="species-item carnivore">
                            <div class="species-icon"></div>
                            <span class="species-name">Carn</span>
                            <span class="species-count" id="carnivoreCount">0</span>
                        </div>
                        <div class="species-item decomposer">
                            <div class="species-icon"></div>
                            <span class="species-name">Decom</span>
                            <span class="species-count" id="decomposerCount">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Spawn Density -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üå± SPAWN</span>
                    <span class="panel-toggle">‚ñ∂</span>
                </div>
                <div class="panel-content collapsed">
                    <div class="slider-row">
                        <label class="label-flora">PLANT</label>
                        <input type="range" id="plantDensity" min="0" max="30" value="10">
                        <span class="value" id="plantDensityValue">10%</span>
                    </div>
                    <div class="slider-row">
                        <label class="label-herbivore">HERB</label>
                        <input type="range" id="herbivoreDensity" min="0" max="15" value="3">
                        <span class="value" id="herbivoreDensityValue">3%</span>
                    </div>
                    <div class="slider-row">
                        <label class="label-carnivore">CARN</label>
                        <input type="range" id="carnivoreDensity" min="0" max="10" value="2">
                        <span class="value" id="carnivoreDensityValue">2%</span>
                    </div>
                    <div class="slider-row">
                        <label class="label-decomposer">DECOM</label>
                        <input type="range" id="decomposerDensity" min="0" max="10" value="2">
                        <span class="value" id="decomposerDensityValue">2%</span>
                    </div>
                </div>
            </div>

            <!-- Plant Settings -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üåø PLANTS</span>
                    <span class="panel-toggle">‚ñ∂</span>
                </div>
                <div class="panel-content collapsed">
                    <div class="slider-row">
                        <label>COST</label>
                        <input type="range" id="plantEnergyCost" min="1" max="10" value="2" step="1">
                        <span class="value" id="plantEnergyCostValue">0.2</span>
                    </div>
                    <div class="slider-row">
                        <label>REPRO</label>
                        <input type="range" id="plantReproEnergy" min="40" max="100" value="70">
                        <span class="value" id="plantReproEnergyValue">70</span>
                    </div>
                    <div class="slider-row">
                        <label>COOL</label>
                        <input type="range" id="plantReproCooldown" min="1" max="10" value="2">
                        <span class="value" id="plantReproCooldownValue">2</span>
                    </div>
                    <div class="slider-row">
                        <label>SPREAD</label>
                        <input type="range" id="plantSpreadRadius" min="1" max="6" value="4">
                        <span class="value" id="plantSpreadRadiusValue">4</span>
                    </div>
                </div>
            </div>

            <!-- Herbivore Settings -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üê∞ HERBIVORE</span>
                    <span class="panel-toggle">‚ñ∂</span>
                </div>
                <div class="panel-content collapsed">
                    <div class="slider-row">
                        <label>COST</label>
                        <input type="range" id="herbivoreEnergyCost" min="2" max="15" value="5" step="1">
                        <span class="value" id="herbivoreEnergyCostValue">0.5</span>
                    </div>
                    <div class="slider-row">
                        <label>FOOD</label>
                        <input type="range" id="herbivoreFoodEnergy" min="15" max="60" value="35">
                        <span class="value" id="herbivoreFoodEnergyValue">35</span>
                    </div>
                    <div class="slider-row">
                        <label>REPRO</label>
                        <input type="range" id="herbivoreReproEnergy" min="50" max="120" value="75">
                        <span class="value" id="herbivoreReproEnergyValue">75</span>
                    </div>
                    <div class="slider-row">
                        <label>MOVE</label>
                        <input type="range" id="herbivoreMoveChance" min="10" max="80" value="35">
                        <span class="value" id="herbivoreMoveChanceValue">35%</span>
                    </div>
                </div>
            </div>

            <!-- Carnivore Settings -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">ü¶Å CARNIVORE</span>
                    <span class="panel-toggle">‚ñ∂</span>
                </div>
                <div class="panel-content collapsed">
                    <div class="slider-row">
                        <label>COST</label>
                        <input type="range" id="carnivoreEnergyCost" min="3" max="20" value="7" step="1">
                        <span class="value" id="carnivoreEnergyCostValue">0.7</span>
                    </div>
                    <div class="slider-row">
                        <label>HUNT</label>
                        <input type="range" id="carnivoreHuntEnergy" min="30" max="100" value="70">
                        <span class="value" id="carnivoreHuntEnergyValue">70</span>
                    </div>
                    <div class="slider-row">
                        <label>REPRO</label>
                        <input type="range" id="carnivoreReproEnergy" min="60" max="150" value="90">
                        <span class="value" id="carnivoreReproEnergyValue">90</span>
                    </div>
                    <div class="slider-row">
                        <label>MOVE</label>
                        <input type="range" id="carnivoreMoveChance" min="20" max="80" value="45">
                        <span class="value" id="carnivoreMoveChanceValue">45%</span>
                    </div>
                </div>
            </div>

            <!-- Colony Settings -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üèòÔ∏è COLONY</span>
                    <span class="panel-toggle">‚ñ∂</span>
                </div>
                <div class="panel-content collapsed">
                    <div class="slider-row">
                        <label>RADIUS</label>
                        <input type="range" id="colonyRadius" min="1" max="5" value="2">
                        <span class="value" id="colonyRadiusValue">2</span>
                    </div>
                    <div class="slider-row">
                        <label>BONUS</label>
                        <input type="range" id="colonyMaxBonus" min="1" max="10" value="5">
                        <span class="value" id="colonyMaxBonusValue">0.5</span>
                    </div>
                    <div class="slider-row">
                        <label>BIAS</label>
                        <input type="range" id="colonyMoveBias" min="0" max="100" value="70">
                        <span class="value" id="colonyMoveBiasValue">70%</span>
                    </div>
                    <div class="slider-row">
                        <label>MATE</label>
                        <input type="range" id="mateRadius" min="1" max="5" value="2">
                        <span class="value" id="mateRadiusValue">2</span>
                    </div>
                </div>
            </div>

            <!-- Presets -->
            <div class="panel">
                <div class="panel-header" onclick="togglePanel(this)">
                    <span class="panel-title">üéÆ PRESETS</span>
                    <span class="panel-toggle">‚ñº</span>
                </div>
                <div class="panel-content">
                    <div class="preset-grid">
                        <button class="btn btn-preset active" data-preset="balanced">BALANCED</button>
                        <button class="btn btn-preset" data-preset="jungle">JUNGLE</button>
                        <button class="btn btn-preset" data-preset="predator">PREDATOR</button>
                        <button class="btn btn-preset" data-preset="barren">BARREN</button>
                        <button class="btn btn-preset" data-preset="overpop">OVERPOP</button>
                        <button class="btn btn-preset" data-preset="sparse">SPARSE</button>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script src="app.js"></script>
    <script>
        function togglePanel(header) {
            const content = header.nextElementSibling;
            const toggle = header.querySelector('.panel-toggle');
            content.classList.toggle('collapsed');
            toggle.textContent = content.classList.contains('collapsed') ? '‚ñ∂' : '‚ñº';
        }
    </script>
</body>
</html>
