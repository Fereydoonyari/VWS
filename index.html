<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voxel Ecosystem - 3D Life Simulator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="logo">
                <div class="logo-cube"></div>
                <h1>Voxel Ecosystem</h1>
            </div>
            <div class="atmosphere-display">
                <div class="gas-meter">
                    <div class="gas-icon o2-icon">O₂</div>
                    <div class="gas-bar">
                        <div class="gas-fill o2-fill" id="o2Bar"></div>
                    </div>
                    <span class="gas-value" id="o2Value">50%</span>
                </div>
                <div class="gas-meter">
                    <div class="gas-icon co2-icon">CO₂</div>
                    <div class="gas-bar">
                        <div class="gas-fill co2-fill" id="co2Bar"></div>
                    </div>
                    <span class="gas-value" id="co2Value">50%</span>
                </div>
            </div>
            <div class="stats">
                <div class="stat">
                    <span class="stat-label">Cycle</span>
                    <span class="stat-value" id="generation">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Entities</span>
                    <span class="stat-value" id="population">0</span>
                </div>
            </div>
        </header>

        <main class="main-content">
            <aside class="sidebar">
                <section class="control-section">
                    <h2>Simulation</h2>
                    <div class="controls">
                        <button class="btn btn-primary" id="playPause">
                            <span class="icon play-icon"></span>
                            <span id="playPauseText">Start</span>
                        </button>
                        <button class="btn btn-secondary" id="step">
                            <span class="icon step-icon"></span>
                            Step
                        </button>
                        <button class="btn btn-danger" id="reset">
                            <span class="icon reset-icon"></span>
                            Reset
                        </button>
                    </div>
                    <div class="slider-control">
                        <label>Speed</label>
                        <input type="range" id="speed" min="1" max="20" value="8">
                        <span class="slider-value" id="speedValue">8</span>
                    </div>
                </section>

                <section class="control-section species-panel">
                    <h2>Species Population</h2>
                    <div class="species-list">
                        <div class="species-item">
                            <div class="species-color plant-color"></div>
                            <div class="species-info">
                                <span class="species-name">Flora</span>
                                <span class="species-desc">Produces O₂, absorbs CO₂</span>
                            </div>
                            <span class="species-count" id="plantCount">0</span>
                        </div>
                        <div class="species-item">
                            <div class="species-color herbivore-color"></div>
                            <div class="species-info">
                                <span class="species-name">Herbivores</span>
                                <span class="species-desc">Eats plants, needs O₂</span>
                            </div>
                            <span class="species-count" id="herbivoreCount">0</span>
                        </div>
                        <div class="species-item">
                            <div class="species-color carnivore-color"></div>
                            <div class="species-info">
                                <span class="species-name">Carnivores</span>
                                <span class="species-desc">Hunts herbivores, needs O₂</span>
                            </div>
                            <span class="species-count" id="carnivoreCount">0</span>
                        </div>
                        <div class="species-item">
                            <div class="species-color decomposer-color"></div>
                            <div class="species-info">
                                <span class="species-name">Decomposers</span>
                                <span class="species-desc">Recycles dead matter</span>
                            </div>
                            <span class="species-count" id="decomposerCount">0</span>
                        </div>
                    </div>
                </section>

                <section class="control-section">
                    <h2>World Settings</h2>
                    <div class="slider-control">
                        <label>Grid Size</label>
                        <input type="range" id="gridSize" min="10" max="24" value="14">
                        <span class="slider-value" id="gridSizeValue">14</span>
                    </div>
                    <div class="slider-control">
                        <label>Height Layers</label>
                        <input type="range" id="heightLayers" min="3" max="8" value="5">
                        <span class="slider-value" id="heightLayersValue">5</span>
                    </div>
                </section>

                <section class="control-section">
                    <h2>Initial Population</h2>
                    <div class="slider-control">
                        <label>Plants</label>
                        <input type="range" id="plantDensity" min="5" max="30" value="15">
                        <span class="slider-value" id="plantDensityValue">15%</span>
                    </div>
                    <div class="slider-control">
                        <label>Herbivores</label>
                        <input type="range" id="herbivoreDensity" min="1" max="15" value="5">
                        <span class="slider-value" id="herbivoreDensityValue">5%</span>
                    </div>
                    <div class="slider-control">
                        <label>Carnivores</label>
                        <input type="range" id="carnivoreDensity" min="0" max="10" value="2">
                        <span class="slider-value" id="carnivoreDensityValue">2%</span>
                    </div>
                    <div class="slider-control">
                        <label>Decomposers</label>
                        <input type="range" id="decomposerDensity" min="1" max="10" value="3">
                        <span class="slider-value" id="decomposerDensityValue">3%</span>
                    </div>
                </section>

                <section class="control-section">
                    <h2>Environment</h2>
                    <div class="slider-control">
                        <label>Initial O₂</label>
                        <input type="range" id="initialO2" min="20" max="80" value="50">
                        <span class="slider-value" id="initialO2Value">50%</span>
                    </div>
                    <div class="slider-control">
                        <label>Sunlight Intensity</label>
                        <input type="range" id="sunlight" min="1" max="10" value="5">
                        <span class="slider-value" id="sunlightValue">5</span>
                    </div>
                </section>

                <section class="control-section">
                    <h2>Ecosystem Presets</h2>
                    <div class="presets">
                        <button class="btn btn-preset" data-preset="balanced">Balanced</button>
                        <button class="btn btn-preset" data-preset="jungle">Jungle</button>
                        <button class="btn btn-preset" data-preset="predator">Predator</button>
                        <button class="btn btn-preset" data-preset="barren">Barren</button>
                    </div>
                </section>
            </aside>

            <div class="canvas-container">
                <canvas id="world"></canvas>
                <div class="canvas-overlay">
                    <div class="rotation-hint">Scroll to zoom</div>
                </div>
                <div class="event-log" id="eventLog">
                    <div class="log-title">Ecosystem Events</div>
                    <div class="log-content" id="logContent"></div>
                </div>
            </div>
        </main>
    </div>

    <script src="app.js"></script>
</body>
</html>
